if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisGroupProfileAvatar",["cx","PolarisIGCoreBox","PolarisUserAvatar","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.groupProfile;a=a.postAuthor;return i.jsxs(c("PolarisIGCoreBox"),{height:32,position:"relative",width:32,children:[i.jsx(c("PolarisUserAvatar"),{profilePictureUrl:b.profilePictureUrl,size:24,username:b.username}),i.jsx("div",{className:"_adi4",children:i.jsx(c("PolarisIGCoreBox"),{alignItems:"end",direction:"row",justifyContent:"end",children:i.jsx(c("PolarisUserAvatar"),{profilePictureUrl:a.profilePictureUrl,size:16,username:a.username})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisuseDesktopStoriesGalleryIds",["PolarisstorySelectors","nullthrows","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=Math.abs(b-4);b=Math.abs(a.length-b-5);c=Array(c).fill(null);b=Array(b).fill(null);return[].concat(c,a,b)}function a(){var a=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getReelGalleryReelIds),b=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelId});b=a.indexOf(c("nullthrows")(b));return h(a,b)}g.padReelIdsForLayout=h;g.useDesktopStoriesGalleryIds=a}),98);
__d("PolarisDesktopStoriesGalleryConstants",[],(function(a,b,c,d,e,f){"use strict";a={preview:.4,viewer:1};b=[a.preview,a.preview,a.preview,a.preview,a.viewer,a.preview,a.preview,a.preview,a.preview];c=b.slice(2,7);d=.5;e=1.5;var g=2,h=[{height:1,width:1,previewCount:d},{height:9,width:14,previewCount:e},{height:9,width:16,previewCount:g}];f.STORY_GALLERY_ITEM_SCALES=a;f.GALLERY=b;f.VISIBLE_GALLERY=c;f.PREVIEW_COUNT_0_5_CROP=d;f.PREVIEW_COUNT_1_5_CROP=e;f.PREVIEW_COUNT_2_CROP=g;f.ASPECT_RATIOS=h}),66);
__d("PolarisuseDesktopStoriesGallerySize",["PolarisDesktopStoriesGalleryConstants","PolarisuseIGCoreWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("PolarisuseIGCoreWindowSize")(),b=a.innerHeight,e=a.innerWidth;a=(a=d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.find(function(a,c){return b/e>=a.height/a.width}))!=null?a:d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS[d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.length-1];var f=Math.min(e,b*(a.width/a.height)),g=Math.min(b,e*(a.height/a.width));return{aspectRatio:a,maxGalleryHeight:g,maxGalleryWidth:f}}g["default"]=a}),98);
__d("PolarisuseDesktopStoriesGallerySprings",["PolarisDesktopStoriesGalleryConstants","PolarisStyleConstants","PolarisuseIGCorePreviousValue","react","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function i(a){return(a=d("PolarisDesktopStoriesGalleryConstants").GALLERY[a])!=null?a:d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview}function j(a,b,c){b=a+b;return c?i(b):i(a)}function k(a,b,c,e,f){var g=a;e?g=a+c:g=a;c=d("PolarisDesktopStoriesGalleryConstants").GALLERY.slice(0,Math.max(0,g)).reduce(function(a,c,d){return a+b.viewer.width*c+b.gutter.width},b.gutter.width);g=b.viewer.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;var h=2*(g+b.gutter.width);if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var i=.5*g;h=h+i+b.gutter.width}if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){i=1.5*g;h=h+i+b.gutter.width*2}g=0;f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_2_CROP&&(!e&&a===1&&(g=-2),!e&&a===d("PolarisDesktopStoriesGalleryConstants").GALLERY.length-2&&(g=2));return c-h+g}function l(a,b){if(a.length!==b.length)return null;var c=a.length-1;for(var d=a.length-1;d>=0;d--)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);if(d!==-1)return c-d;c=0;for(var d=0;d<a.length;d++)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);return d!==-1?c-d:null}function m(a,b,c,d,e,f){d===void 0&&(d=2);e===void 0&&(e=!1);return function(g){g===void 0&&(g=0);var h=j(g,c,!0),i=j(g,c,!1),l=k(g,b,c,!0,d),m=k(g,b,c,!1,d),n=g===4;return{from:{scale:h,x:l},to:{scale:i,x:m},immediate:e,onRest:f!=null&&n?function(){return f(a[g])}:function(){}}}}function n(a,b){a=a*b;return{width:a*c("PolarisStyleConstants")["story-viewer-aspect-ratio-w-h"].value,height:a}}function a(a,b,e,f,g){var i=n(e,c("PolarisStyleConstants")["story-viewer-large-height-pct"].value),j={viewer:i,gutter:{width:0,height:0}};e=d("PolarisDesktopStoriesGalleryConstants").VISIBLE_GALLERY.reduce(function(a,b){return a+i.width*b},0);var k=(f-e)/6;if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var o=i.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;e=e-o;k=(f-e)/4}if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){o=i.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview*3;e=e-o;k=(f-e)/2}j.gutter.width=k;o=d("react-spring-wwwig").useSprings(a.length,m(a,j,0,b.previewCount,!0,g));f=o[0];var p=o[1],q=c("PolarisuseIGCorePreviousValue")(a),r=c("PolarisuseIGCorePreviousValue")(j.viewer.height),s=c("PolarisuseIGCorePreviousValue")(j.gutter.width);h(function(){var c=q!=null&&q.join()!==a.join(),d=r!=null&&r!==j.viewer.height||s!=null&&s!==j.gutter.width;if(c||d){c=l((c=q)!=null?c:[],a);d=c===null||d;c=(c=c)!=null?c:0;p(m(a,j,c,b.previewCount,d,g))}},[a,j,q,p,r,s,b.previewCount,g]);return[i.height,i.width,f]}g.calcX=k;g.calcIndexAdjustment=l;g.useDesktopStoriesGallerySprings=a}),98);
__d("PolarisuseStoriesReel",["PolarisStoriesLoggingUtils","PolarisStoriesProvider","PolarisStoryNavigationPerformanceLogger","PolarisUA","PolarisgetPostFromGraphMediaInterface","PolarisstorySelectors","PolarisuseEventListener","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function j(a){return d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(a)!=null}function a(a){var b=d("PolarisStoriesProvider").useStoriesContext(),e=b.updateStoriesContext,f=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId)),g=c("nullthrows")(d("react-redux-wwwig").useSelector(function(a){return a.posts.byId.get(f)})),k=d("react-redux-wwwig").useSelector(function(b){return b.stories.currentTrayOrder.indexOf(a)}),l=d("react-redux-wwwig").useSelector(function(b){return d("PolarisstorySelectors").getInitialReelIndex(b,a)}),m=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getTrayEntrypoint);i(function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.start(c("nullthrows")(m),k);d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(k,l);j(g)&&e({postIDThatShouldShowSensitiveContentOverlay:g.id});return function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.clear()}},[]);i(function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(k,l),d("PolarisUA").isMobile()&&c("PolarisStoryNavigationPerformanceLogger").onTransitionFinish({reelId:a})},[a]);i(function(){e({postIDThatShouldShowSensitiveContentOverlay:j(g)?g.id:null})},[g.id,e]);b=h(function(){e({isHidden:document.hidden})},[e]);var n=h(function(){e({hasFocus:document.hasFocus()})},[e]);c("PolarisuseEventListener")(document,"visibilitychange",b);c("PolarisuseEventListener")(window,"focus",n);c("PolarisuseEventListener")(window,"blur",n)}g["default"]=a}),98);
__d("PolarisSponsoredLabel",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{color:"vlvrs9as",fontSize:"esngohu3",lineHeight:"g0214jz6"}};function a(a){var b=a.xstyle;a=a.label;return h.jsx("span",{className:c("stylex")(i.root,b),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesFooterAdCTA",["cx","PolarisIGCoreButton","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onOpenCta;a=a.text;return i.jsx("div",{className:"_adj2",children:i.jsx("div",{className:"_adj3",children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return b()},children:i.jsx("div",{className:"_adj4",children:i.jsx(c("PolarisIGCoreText").Body,{textAlign:"center",weight:"semibold",children:a})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesFooterCTA",["cx","fbt","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onOpenCta;return j.jsx("div",{className:"_adip",onClick:a,role:"button",tabIndex:"0",children:j.jsx("div",{className:"_adiq",children:i._("See More")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesFooter",["cx","PolarisDesktopStoriesFooterAdCTA","PolarisDesktopStoriesFooterCTA","PolarisDirectStrings","PolarisLikeButton","PolarisStoryReplyComposer","PolarisStoryShareButton","PolarisStoryViewerButton","PolarisStoryViewerToast","PolarisUA","PolarisadsSelectors","PolarispostSelectors","PolarisstorySelectors","PolarisuseStoriesFooter","PolarisuseStoryLikes","gkx","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.onStoryViewerListOpen;var b=c("PolarisuseStoriesFooter")(),e=b.canReply,f=b.canReshare,g=b.ctaUrl,h=b.currentPost,j=b.handleShareStory,k=b.isViewingOwnStory,l=b.mediaId,m=b.onOpenCta,n=b.reelId,o=b.setToastMessage,p=b.storyOwnerId;b=b.toastMessage;f=f?i.jsx(c("PolarisStoryShareButton"),{currentPost:h,handleShareStory:j,referrer:"DesktopStoriesFooter"}):null;h=l.split("_");var q=h[0];h[1];j=d("react-redux-wwwig").useSelector(function(a){return d("PolarispostSelectors").doesViewerLikePost(a,q)});h=c("PolarisuseStoryLikes")(q);l=i.jsx(c("PolarisStoryReplyComposer"),{handleStoryLike:h,likedByViewer:j,mediaId:l,onSendMessage:function(){o(d("PolarisDirectStrings").SENT_TOAST_TEXT)},optionsElement:null,reelId:n,shareButton:f,storyOwnerId:p,supportsReelReactions:!k});n=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId);f=d("PolarisadsSelectors").useStoryAdInfo(n,function(a){return a});p=d("PolarisadsSelectors").useIsStoryAd(n);n=n!=null?f==null?void 0:(f=f.ctaItems)==null?void 0:(f=f.get(n))==null?void 0:f.ctaLinkText:null;f=p&&n!=null?i.jsx(c("PolarisDesktopStoriesFooterAdCTA"),{onOpenCta:m,text:n}):i.jsx(c("PolarisDesktopStoriesFooterCTA"),{onOpenCta:m});return i.jsxs("div",{className:"_ac11",children:[i.jsxs("div",{className:"_ac12",children:[e&&d("PolarisUA").isDesktop()&&l,!e&&d("PolarisUA").isDesktop()&&!k&&c("gkx")("5703")&&i.jsx("div",{className:"_ac13",children:!p&&i.jsx(c("PolarisLikeButton"),{color:"ig-stroke-on-media",isLiked:j,onChange:h})}),i.jsx(c("PolarisStoryViewerToast"),{message:b,onClose:function(){return o("")}})]}),a!=null&&i.jsx(c("PolarisStoryViewerButton"),{onStoryViewerListOpen:a}),g!=null&&f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreMoreHorizontalPanoFilledIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 9.75A2.25 2.25 0 1014.25 12 2.25 2.25 0 0012 9.75zm-6 0A2.25 2.25 0 108.25 12 2.25 2.25 0 006 9.75zm12 0A2.25 2.25 0 1020.25 12 2.25 2.25 0 0018 9.75z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisStoriesHeaderOwnerV2",["cx","PolarisEligibleForCommissionUnit","PolarisGroupProfileAvatar","PolarisGroupProfileUtils","PolarisHashtagLink","PolarisIGCoreBox","PolarisLocationAvatar","PolarisLocationLink","PolarisSponsoredLabel","PolarisSponsorsUnit","PolarisStoriesStrings","PolarisStoryAppAttribution","PolarisTagAvatar","PolarisTimestamp","PolarisTransparencyLabel","PolarisTransparencyUtils","PolarisUserAvatar","PolarisUserLink","PolarisadsSelectors","PolarisstorySelectors","Polarisunexpected","nullthrows","react","react-redux"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={whiteText:{color:"t7ez0dxl"}};function k(a){var b=a.appAttribution,e=a.closeFriends;a.currentReelItemIndex;var f=a.exclusiveStory,g=a.isAffiliate,h=a.isPaidPartnership,k=a.postedAt,l=a.reel,m=a.sponsors;m=m===void 0?null:m;var n=a.title,o=a.reelOwner,p=a.postUser;a.viewingOwnStory;a=a.isGroupProfile;var q=d("react-redux").useSelector(d("PolarisstorySelectors").getCurrentPostId),r=d("PolarisadsSelectors").useIsStoryAd(q);q=d("PolarisadsSelectors").useStoryAdInfo(q,function(a){return a});return i.jsxs("div",{className:"_ac0o",children:[a===!0?i.jsx(c("PolarisGroupProfileAvatar"),{groupProfile:o,postAuthor:p}):i.jsx(c("PolarisUserAvatar"),{className:"_ac0p",profilePictureUrl:c("nullthrows")(o.profilePictureUrl),size:32,username:o.username}),i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",marginStart:2,children:[i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"row",children:[i.jsx("div",{className:"_ac0q"+(e||f?" _ac0r":""),children:i.jsx(c("PolarisUserLink"),{className:"_ac0s",username:c("nullthrows")(o.username),children:n})}),i.jsx(c("PolarisTimestamp"),{className:"_ac0t",isLong:!1,value:k})]}),d("PolarisTransparencyUtils").shouldShowTransparencyLabel(o)&&i.jsx(c("PolarisTransparencyLabel"),{className:"_ac0u _ac0s",mediaId:l.id,screen:"stories",user:o}),r&&i.jsx(c("PolarisSponsoredLabel"),{xstyle:j.whiteText,label:q==null?void 0:q.label}),h&&i.jsx(c("PolarisSponsorsUnit"),{className:"_ac0s",color:"white",sponsors:m||[]}),!h&&g&&i.jsx(c("PolarisEligibleForCommissionUnit"),{className:"_ac0s"}),b&&i.jsx(c("PolarisStoryAppAttribution"),{attribution:b}),a===!0&&p.username!=null&&d("PolarisGroupProfileUtils").getIsGroupProfileStoryAttributionEnabled()&&i.jsx(c("PolarisUserLink"),{className:"_ac0w _ac0s",username:c("nullthrows")(p.username),children:d("PolarisGroupProfileUtils").getGroupMediaPostAuthorAttributionText(c("nullthrows")(p.username))})]})]})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.postUser,e=a.postedAt,f=a.reel,g=a.reelOwner;a=a.viewingOwnStory;return i.jsxs("div",{className:"_ac0o",children:[f.ownerType==="GraphHashTag"&&i.jsx(c("PolarisTagAvatar"),{profilePictureUrl:c("nullthrows")(g.profilePictureUrl),size:30,tagName:c("nullthrows")(f.tagName)}),f.ownerType==="GraphLocation"&&i.jsx(c("PolarisLocationAvatar"),{locationId:c("nullthrows")(f.locationId),profilePictureUrl:c("nullthrows")(g.profilePictureUrl),size:30}),i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",marginStart:2,children:[i.jsxs("div",{className:"_ac0q",children:[f.ownerType==="GraphHashTag"&&i.jsx(c("PolarisHashtagLink"),{className:"_ac0v _ac0s",tag:c("nullthrows")(f.tagName)}),f.ownerType==="GraphLocation"&&i.jsx(c("PolarisLocationLink"),{className:"_ac0v _ac0s",location:g}),i.jsx(c("PolarisIGCoreBox"),{marginStart:2,children:i.jsx(c("PolarisTimestamp"),{className:"_ac0t",isLong:!1,value:e})})]}),i.jsx(c("PolarisUserLink"),{className:"_ac0w _ac0s",username:c("nullthrows")(b.username),children:a?d("PolarisStoriesStrings").YOUR_STORY_TEXT:c("nullthrows")(b.username)})]})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.appAttribution;a.audience;var d=a.closeFriends,e=a.currentReelItemIndex,f=a.exclusiveStory,g=a.isAffiliate,h=a.isPaidPartnership,j=a.reelOwner,m=a.postedAt,n=a.reel,o=a.sponsors,p=a.title;a.trayEntrypoint;var q=a.postUser,r=a.viewingOwnStory;a=a.isGroupProfile;switch(n.ownerType){case"GraphUser":return i.jsx(k,{appAttribution:b,closeFriends:d,currentReelItemIndex:e,exclusiveStory:f,isAffiliate:g,isGroupProfile:a,isPaidPartnership:h,postedAt:m,postUser:q,reel:n,reelOwner:j,sponsors:o,title:p,viewingOwnStory:r});case"GraphLocation":case"GraphHashTag":return i.jsx(l,{postedAt:m,postUser:q,reel:n,reelOwner:j,viewingOwnStory:r})}c("Polarisunexpected")("Owner type must be User or Hashtag");return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesHeaderV2",["cx","fbt","PolarisCloseFriendsLabel","PolarisExclusiveStoryLabel","PolarisIGCoreBox","PolarisIGCoreMoreHorizontalPanoFilledIcon","PolarisIGCoreSVGIconButton","PolarisSharedStoryHeaderInfo.react","PolarisStoriesHeaderOwnerV2","PolarisStoriesProvider","PolarisStoryProgressBars","PolarisstorySelectors","PolarisuserSelectors","gkx","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.currentReelItemIndex,e=a.itemCount,f=a.onModalOpen,g=a.playPercentage,h=a.reel,k=a.trayEntrypoint;a=a.reelOwner;var l=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPost)),m=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostAuthor)),n=c("nullthrows")(d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getCurrentReelTitle(a,!1)})),o=d("react-redux-wwwig").useSelector(d("PolarisuserSelectors").getViewer),p=d("PolarisStoriesProvider").useStoriesContext(),q=p.isMusicAvailableInCountry,r=p.isMuted,s=p.isPaused,t=p.needsTapToStart,u=p.postIDThatShouldShowSensitiveContentOverlay,v=p.updateStoriesContext;p=o!=null&&a.id===o.id;o=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getIsCurrentReelOwnerGroupProfile);var w=l.audience==="MediaAudience.BESTIES",x=l.audience==="MediaAudience.FAN_CLUB"&&c("gkx")("4842");u=u==null&&!t;return j.jsxs("header",{className:"_ac0k",children:[j.jsx(c("PolarisStoryProgressBars"),{animated:!0,count:e,currentIndex:b,percentage:g}),j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",children:[j.jsx("div",{className:"_ac0l",children:j.jsx(c("PolarisStoriesHeaderOwnerV2"),{appAttribution:l.storyAppAttribution,audience:l.audience,closeFriends:w,currentReelItemIndex:b,exclusiveStory:x,isAffiliate:l.isAffiliate===!0,isGroupProfile:o,isPaidPartnership:l.isPaidPartnership===!0,postedAt:c("nullthrows")(l.postedAt),postUser:m,reel:h,reelOwner:a,sponsors:l.sponsors,title:n,trayEntrypoint:k,viewingOwnStory:p})}),j.jsx("div",{className:"_ac0m",children:u&&j.jsxs(j.Fragment,{children:[w&&j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:[j.jsx(c("PolarisCloseFriendsLabel"),{onClick:function(){v({isCloseFriendsDialogActive:!0})},textSize:"small"}),j.jsx(c("PolarisIGCoreBox"),{marginEnd:2})]}),x&&j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:[j.jsx(c("PolarisExclusiveStoryLabel"),{onClick:function(){v({isExclusiveStoryDialogActive:!0})},textSize:"small"}),j.jsx(c("PolarisIGCoreBox"),{marginEnd:2})]}),j.jsx(c("PolarisSharedStoryHeaderInfo.react"),{isMusicAvailableInCountry:q,isMuted:r,isPaused:s,post:l,toggleStoryMuteState:function(){v({isMuted:!r})},toggleStoryPauseState:function(){v({isPaused:!s})}}),j.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:f,children:j.jsx(c("PolarisIGCoreMoreHorizontalPanoFilledIcon"),{alt:i._("Menu"),color:"web-always-white",size:24})})]})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoryEventZone",["cx","Keys","PolarisDOMListener","PolarisStoriesContext","PolarisStoryTappableObjects","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a.preventDefault()},d.$2=function(a){d.context.updateStoriesContext({isPaused:!0}),d.props.onPause(a)},d.$3=function(a){d.context.updateStoriesContext({isPaused:!1}),d.props.onPlay(a)},d.$4=function(a){var b=a.which;!d.props.isFirstStory&&!a.altKey&&b===c("Keys").LEFT?d.props.onPrev():!a.altKey&&b===c("Keys").RIGHT?d.props.onNext("tap_forward"):!a.altKey&&b===c("Keys").UP?d.props.onPrevReel():!a.altKey&&b===c("Keys").DOWN?d.props.onNextReel("swipe_forward"):!a.altKey&&b===c("Keys").ESC?d.props.onClose():!a.altKey&&b===c("Keys").SPACE&&(d.props.isPlaying?d.$2(a):d.$3(a),a.preventDefault())},d.$5=function(a){a.button===0&&d.$2(a)},d.$6=function(a){a.button===0&&d.$3(a)},d.$7=function(a){d.$2(a)},d.$8=function(a){a.touches.length===0&&d.$3(a)},d.$9=function(a){d.props.onPlay(a)},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.render=function(){var a=this.props,b=a.mediaLayout,d=a.showVideoPlayButton;a=a.tappableStickersEligible;return i.jsxs("div",{className:"_ac0x",children:[i.jsx("div",{className:"_ac0y",onContextMenu:this.$1,onMouseDown:this.$5,onMouseUp:this.$6,onTouchEnd:this.$8,onTouchStart:this.$7,role:"dialog",children:i.jsx(c("PolarisDOMListener"),{event:"keyup",handler:this.$4,target:window})}),d&&i.jsx("div",{className:"_ac0z",onClick:this.$9,role:"button",tabIndex:"0",children:i.jsx("button",{className:"_ac0- _9zwu"})}),a&&b!=null&&i.jsx(c("PolarisStoryTappableObjects"),{isPlaying:this.props.isPlaying,mediaLayout:c("nullthrows")(this.props.mediaLayout)})]})};return b}(i.Component);a.contextType=d("PolarisStoriesContext").StoriesContext;g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelViewer",["cx","fbt","PolarisCloseFriendsInfoDialog","PolarisDesktopStoriesFooter","PolarisDesktopStoriesHeaderV2","PolarisDesktopStoryEventZone","PolarisExclusiveStoryInfoDialog","PolarisGroupProfileUtils","PolarisStoriesModal","PolarisStoriesProvider","PolarisStoryActions","PolarisStoryMedia","PolarisStoryMediaPrefetcher","PolarisStoryVideoContext","PolarisStoryVideoLogger","PolarisStoryViewerList","PolarisStoryViewerPerformanceLogger","PolarisstorySelectors","PolarisuseAnalyticsContext","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useState;function a(a){var b=a.innerRef,e=a.logUserCancel,f=a.onStoryViewerListClose;a=a.onStoryViewerListOpen;var g=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getTrayEntrypoint)),h=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId)),m=c("nullthrows")(d("react-redux-wwwig").useSelector(function(a){return a.posts.byId.get(h)})),n=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostAuthor)),o=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentTrayOrder}),p=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReel)),q=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReelOwner));d("PolarisGroupProfileUtils").getIsGroupProfileStoryAttributionEnabled()||(q=n);var r=d("react-redux-wwwig").useSelector(function(a){return p.itemIds==null?[]:p.itemIds.map(function(b){return c("nullthrows")(a.posts.byId.get(b))}).filter(function(a){return a!=null})}),s=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelItemIndex});o=o[0];o=p.id===o&&s===0;var t=d("react-redux-wwwig").useDispatch(),u=l(0),v=u[0],w=u[1];u=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").isCurrentReelItemExpired);var x=d("PolarisStoriesProvider").useStoriesContext(),y=x.isCloseFriendsDialogActive,z=x.isExclusiveStoryDialogActive,A=x.isInitialLoad,B=x.isMuted,C=x.isStoryViewerListActive,D=x.isUnfollowModalActive,E=x.needsTapToStart,F=x.postIDThatShouldShowSensitiveContentOverlay,G=x.updateStoriesContext;x=d("PolarisStoryVideoContext").useStoryVideoContext();var H=x.loggerValuesRef,I=x.ref,J=k(function(){I.current&&!I.current.paused&&d("PolarisStoryVideoLogger").logVideoPausedEvent(I.current,m,H.current,B?0:1)},[m,B,H,I]);x=k(function(a){a===void 0&&(a="tap_exit"),J(),t(d("PolarisStoryActions").closeReels(a))},[t,J]);var K=k(function(a){a===void 0&&(a="tap_forward"),J(),w(0),t(d("PolarisStoryActions").nextReelItem(a)),e("navigate_next")},[t,J,e]),L=k(function(a){a===void 0&&(a="swipe_forward"),J(),w(0),t(d("PolarisStoryActions").nextReel(a))},[t,J]),M=k(function(a,b){return t(d("PolarisStoryActions").updateReelSeen(a,b))},[t]),N=k(function(){J(),w(0),t(d("PolarisStoryActions").prevReelItem("tap_back")),e("navigate_prev")},[t,J,e]),O=k(function(){J(),w(0),t(d("PolarisStoryActions").prevReel("swipe_back"))},[t,J]),P=k(function(a){t(d("PolarisStoryActions").loadStoryViewers({itemId:a}))},[t]),Q=k(function(a,b){t(d("PolarisStoryActions").loadStorySliderVoters({itemId:a,sliderId:b}))},[t]),R=k(function(){A&&c("PolarisStoryViewerPerformanceLogger").onLoadSuccess({reelId:p.id}),G({isInitialLoad:!1,isPaused:!1})},[A,p.id,G]),S=k(function(){e("pause")},[e]),T=c("PolarisuseAnalyticsContext")(),U=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentTrayOrder.indexOf(p.id)}),V=d("react-redux-wwwig").useSelector(function(a){return a.stories.traySession}),W=d("react-redux-wwwig").useSelector(function(a){return a.users.viewerId}),X=d("react-redux-wwwig").useSelector(function(a){return a.stories.viewerSession}),Y=d("react-redux-wwwig").useSelector(function(a){return a.stories.isLoadingStoryViewers}),Z=d("react-redux-wwwig").useSelector(function(a){return a.stories.isLoading||p.isLoading||d("PolarisstorySelectors").getStoryViewersPageInfoById(a,h).has_next_page}),$=p.userId===W||d("PolarisGroupProfileUtils").getIsUserGroupProfile(q)&&m.ownerId===W;return j.jsxs("section",{className:"_ac0a",ref:b,children:[D&&j.jsx(c("PolarisStoriesModal"),{analyticsContext:T,currentPost:m,currentReelItemIndex:s,onClose:function(){return G({isUnfollowModalActive:!1})},reel:p,reelPositionInTray:U,traySession:V,user:n,viewerId:W,viewerSession:X,viewingOwnStory:$}),C&&$&&j.jsx(c("PolarisStoryViewerList"),{canLoadMoreViewers:Z,currentPost:m,isLoading:Y,onClose:f,onLoadStorySliderVoters:Q,onLoadStoryViewers:P,storyViewers:m.storyViewers||[],traySessionId:V,viewerSessionId:X}),y&&j.jsx(c("PolarisCloseFriendsInfoDialog"),{onClose:function(){G({isCloseFriendsDialogActive:!1})},postId:m.id,userId:c("nullthrows")(q.id)}),z&&j.jsx(c("PolarisExclusiveStoryInfoDialog"),{onClose:function(){G({isExclusiveStoryDialogActive:!1})},username:c("nullthrows")(q.username)}),j.jsxs("div",{className:"_ac0b",children:[!o&&!E&&j.jsx("button",{"aria-label":i._("Previous"),className:"_ac0c",onClick:N,children:j.jsx("div",{className:"_9zm0"})}),j.jsx(d("PolarisStoryMedia").StoryMedia,{autoPlay:!0,eventZone:c("PolarisDesktopStoryEventZone"),isExpired:u,isFirstStory:o,isInitialLoad:A,onClose:x,onNext:K,onNextReel:L,onPause:S,onPlay:R,onPostSeen:M,onPrev:N,onPrevReel:O,onUpdatePlayPercentage:w,onUpdatePreplayPercentage:w,post:m,preload:"auto",reelId:p.id,trayEntrypoint:g}),j.jsx(c("PolarisStoryMediaPrefetcher"),{prefetchContext:"stories"}),j.jsx(c("PolarisDesktopStoriesHeaderV2"),{currentReelItemIndex:s,itemCount:r.length,onModalOpen:function(){return G({isUnfollowModalActive:!0})},playPercentage:v,reel:p,reelOwner:q,trayEntrypoint:g}),!E&&j.jsx("button",{"aria-label":i._("Next"),className:"_ac0d",onClick:function(){return K("tap_forward")},children:j.jsx("div",{className:"_9zm2"})}),F==null&&!E&&!u&&j.jsx(c("PolarisDesktopStoriesFooter"),{onStoryViewerListOpen:a})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesIntegrityGuards",["PolarisIGBloksAsyncAppLauncher","PolarisStoriesProvider","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPost));var b=d("PolarisStoriesProvider").useStoriesContext(),e=b.shareClickCount,f=b.updateStoriesContext;return h.jsx(h.Fragment,{children:e>0&&((b=a.sharingFrictionInfo)==null?void 0:b.bloksAppUrl)!=null&&h.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:a.sharingFrictionInfo.bloksAppUrl,onOpenShareSheetClick:function(){return f({isPlaybackDisabled:!1,isStoryShareSheetActive:!0})},onResumeStoryPlayback:function(){f({isPlaybackDisabled:!1})},params:{media_id:a.id,module:"reel_feed_timeline"}},e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisOwnerStoriesV2",["PolarisDesktopStoriesV2ReelViewer","PolarisStoriesIntegrityGuards","PolarisStoriesLoggingUtils","PolarisStoriesProvider","PolarisStoryViewerPerformanceLogger","PolarisViewpointReact","PolarisVpvdImpressionAction","PolarisstorySelectors","PolarisuseAnalyticsContext","PolarisuseStoriesReel","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b,e=a.reelId,f=a.viewerHeight,g=a.viewerWidth,k=c("nullthrows")(d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReel(a,e)}));a=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelItemIndex});var l=d("react-redux-wwwig").useSelector(function(a){return a.stories.traySession}),m=d("react-redux-wwwig").useSelector(function(a){return a.stories.viewerSession}),n=c("PolarisuseAnalyticsContext")(),o=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getContainerModule);o=o.containerModule;b=(b=(b=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData())==null?void 0:b.containermodule)!=null?b:o;c("PolarisuseStoriesReel")(k.id);o=d("PolarisStoriesProvider").useStoriesContext();var p=o.isInitialLoad,q=o.updateStoriesContext,r=i(function(a){c("PolarisStoryViewerPerformanceLogger").onUserCancel({cancelReason:a,reelId:k.id}),q({isInitialLoad:!1})},[k.id,q]),s=i(function(){r("viewer_list_open"),q({isStoryViewerListActive:!0})},[r,q]),t=i(function(){q({isStoryViewerListActive:!1})},[q]);j(function(){p&&c("PolarisStoryViewerPerformanceLogger").onStoryViewerOpen({reelId:k.id});return function(){r("exit_viewer")}},[p,r,k.id]);j(function(){q({viewerWidth:g,viewerHeight:f})},[q,f,g]);return h.jsxs(h.Fragment,{children:[h.jsx(d("PolarisViewpointReact").Viewpoint,{action:d("PolarisVpvdImpressionAction").makeStoriesVpvdImpressionAction(k,a,l,m,n,b),id:k.id+c("nullthrows")(k.itemIds)[a],children:function(a){return h.jsx(c("PolarisDesktopStoriesV2ReelViewer"),{innerRef:a,logUserCancel:r,onStoryViewerListClose:t,onStoryViewerListOpen:s})}}),h.jsx(c("PolarisStoriesIntegrityGuards"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelStandaloneViewer",["PolarisIGCoreBox","PolarisOwnerStoriesV2","PolarisSizing","PolarisuseIGCoreWindowSize","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=c("nullthrows")(d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelId}));var b=c("PolarisuseIGCoreWindowSize")();b=b.innerHeight;b=d("PolarisSizing").getViewerDimensionsFromHeightV2(b);var e=b.height;b=b.width;return h.jsx(c("PolarisIGCoreBox"),{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",children:h.jsx("div",{style:{height:e,width:b},children:h.jsx(c("PolarisOwnerStoriesV2"),{reelId:a,viewerHeight:e,viewerWidth:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelPreviewOverlays",["cx","PolarisSensitivityOverlayIcon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"_ac07"})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i.jsx("div",{className:"_ac08"})}b.displayName=b.name+" [from "+f.id+"]";function e(){return i.jsx("div",{className:"_ac09",children:i.jsx(c("PolarisSensitivityOverlayIcon"),{mediaOverlayIconGlyph:null})})}e.displayName=e.name+" [from "+f.id+"]";g.DesktopStoriesPreviewObscurityOverlay=a;g.DesktopStoriesPreviewSeenOverlay=b;g.DesktopStoriesPreviewSensitivityOverlay=e}),98);
__d("PolarisDesktopStoriesV2ReelPreview",["cx","fbt","ix","IGCoreImage","PolarisDesktopStoriesV2ReelPreviewOverlays","PolarisGroupProfileUtils","PolarisIGCoreBox","PolarisIGCorePressable","PolarisIGCoreText","PolarisResponsiveImage","PolarisTimestamp","PolarisUserAvatarWithStories","PolarisgetPostFromGraphMediaInterface","PolarispostSelectors","PolarisstorySelectors","PolarisuserSelectors","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");function l(a){var b=a.pictureUrl,e=a.postedAt,f=a.reelIsSeen,g=a.title;a=a.user;return k.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,height:"100%",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:[f?null:k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays").DesktopStoriesPreviewObscurityOverlay,{}),k.jsxs("div",{className:"_ac0h",children:[k.jsx(c("PolarisUserAvatarWithStories"),{isClickable:!1,isLink:!1,profilePictureUrl:b,showLivePulse:!1,showLiveRing:!1,size:56,storyEntrypoint:"reel_feed_timeline",username:a.username}),k.jsx(c("PolarisIGCoreBox"),{marginTop:4,children:k.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",children:g})}),k.jsx(c("PolarisIGCoreBox"),{marginTop:2,children:k.jsx(c("PolarisIGCoreText").Body,{color:"web-always-white",children:k.jsx(c("PolarisTimestamp"),{isLong:!1,value:e})})})]})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.onClick,e=a.reelId,f=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReel(a,e)}),g=d("react-redux-wwwig").useSelector(function(a){var b=f==null?void 0:f.itemIds;if(b!=null&&b.length>0&&f!=null){b=(b=d("PolarisstorySelectors").getInitialReelIndex(a,f.id))!=null?b:0;b=c("nullthrows")(f==null?void 0:f.itemIds)[b];if(b)return d("PolarispostSelectors").getPostById(a,b)}return null});a=g!=null&&d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(g)!=null;var h=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReelOwnerForReelId(a,e)}),m=d("react-redux-wwwig").useSelector(function(a){var b;b=g==null?void 0:(b=g.owner)==null?void 0:b.id;return b!=null?d("PolarisuserSelectors").getUserById(a,b):null});h=h!=null&&d("PolarisGroupProfileUtils").getIsUserGroupProfile(h)&&d("PolarisGroupProfileUtils").getIsGroupProfileStoryAttributionEnabled()?h:m;if(f!=null){m=d("PolarisstorySelectors").isReelSeen(f);var n=f.type==="GraphHighlightReel";return k.jsx("div",{className:"_ac0i",children:g==null||h==null?k.jsx(c("IGCoreImage"),{alt:i._("Story loading placeholder"),src:{light:j("163057")}}):k.jsxs(c("PolarisIGCorePressable"),{className:"_ac0j",keyPress:["Enter"],onPress:function(){return b(e)},children:[m?k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays").DesktopStoriesPreviewSeenOverlay,{}):null,a?k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays").DesktopStoriesPreviewSensitivityOverlay,{}):null,k.jsx(l,{pictureUrl:n?f.thumbnailUrl:h.profilePictureUrl,postedAt:c("nullthrows")(g.postedAt),reelIsSeen:m,title:n?f.title:h.username,user:c("nullthrows")(h)}),g==null?null:k.jsx(c("PolarisResponsiveImage"),{decoding:"sync",src:g.src,srcSet:g.displayResources,style:{width:"100%"}})]})})}return k.jsx(k.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesViewerOrPreview",["PolarisDesktopStoriesV2ReelPreview","PolarisOwnerStoriesV2","PolarisStoryActions","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.reelId,e=a.viewerHeight;a=a.viewerWidth;var f=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelId}),g=d("react-redux-wwwig").useDispatch(),i=b==null;if(i)return null;i=f===b;return i?h.jsx(c("PolarisOwnerStoriesV2"),{reelId:c("nullthrows")(b),viewerHeight:e,viewerWidth:a}):h.jsx(c("PolarisDesktopStoriesV2ReelPreview"),{onClick:function(){return g(d("PolarisStoryActions").navigateToClickedGalleryReel(c("nullthrows")(b)))},reelId:c("nullthrows")(b)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelsGallery",["cx","PolarisDesktopStoriesViewerOrPreview","PolarisIGAnimate","PolarisIGCoreBox","PolarisStoryNavigationPerformanceLogger","PolarisuseDesktopStoriesGalleryIds","PolarisuseDesktopStoriesGallerySize","PolarisuseDesktopStoriesGallerySprings","react","react-spring-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=d("PolarisuseDesktopStoriesGalleryIds").useDesktopStoriesGalleryIds();a=c("PolarisuseDesktopStoriesGallerySize")();var e=a.aspectRatio,f=a.maxGalleryHeight;a=a.maxGalleryWidth;var g=j(function(a){a!=null&&(c("PolarisStoryNavigationPerformanceLogger").onTransitionFinish({reelId:a}),c("PolarisStoryNavigationPerformanceLogger").onNavigationSuccess({reelId:a}))},[]);e=d("PolarisuseDesktopStoriesGallerySprings").useDesktopStoriesGallerySprings(b,e,f,a,g);var h=e[0],k=e[1];g=e[2];return i.jsx("div",{className:"_ac0n",style:{maxWidth:a,maxHeight:f},children:i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",display:"flex",height:"100%",children:g.map(function(a,e){var f=a.scale;a=a.x;return i.jsx(d("PolarisIGAnimate").Animated.div,{style:{height:h,width:k,transform:d("react-spring-wwwig").interpolate([a,f],function(a,b){return"translate("+a+"px) scale("+b+")"}),position:"absolute",left:0,transformOrigin:"left"},children:i.jsx(c("PolarisDesktopStoriesViewerOrPreview"),{reelId:b[e],viewerHeight:h,viewerWidth:k})},e)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisIGCoreFullscreenClose24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("polyline",{fill:"none",points:"7.75 0.75 7.75 7.75 0.75 7.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"0.75 16.25 7.75 16.25 7.75 23.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"7.75 0.75 7.75 7.75 0.75 7.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"0.75 16.25 7.75 16.25 7.75 23.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"16.25 0.75 16.25 7.75 23.25 7.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"23.25 16.25 16.25 16.25 16.25 23.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisIGCoreFullscreenOutline24Icon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("polyline",{fill:"none",points:"0.75 7.75 0.75 0.75 7.75 0.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"7.75 23.25 0.75 23.25 0.75 16.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"0.75 7.75 0.75 0.75 7.75 0.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"7.75 23.25 0.75 23.25 0.75 16.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"23.25 7.75 23.25 0.75 16.25 0.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"16.25 23.25 23.25 23.25 23.25 16.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisFullscreenButton",["PolarisGenericStrings","PolarisIGCoreFullscreenClose24Icon","PolarisIGCoreFullscreenOutline24Icon","PolarisIGCoreSVGIconButton","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(){var a=j(!1),b=a[0],e=a[1],f=function(){if(!document.fullscreenElement){var a;(a=document.documentElement)==null?void 0:a.requestFullscreen();e(!0)}else document.exitFullscreen&&(document.exitFullscreen(),e(!1))};i(function(){var a=function(a){a.key==="f"&&f()};document.addEventListener("keydown",a);return function(){document.removeEventListener("keydown",a)}},[]);return document.fullscreenEnabled?h.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:f,children:b?h.jsx(c("PolarisIGCoreFullscreenClose24Icon"),{alt:d("PolarisGenericStrings").EXIT_FULLSCREEN_TEXT,color:"web-always-white"}):h.jsx(c("PolarisIGCoreFullscreenOutline24Icon"),{alt:d("PolarisGenericStrings").GO_FULLSCREEN_TEXT,color:"web-always-white"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesPage",["cx","fbt","ix","FastLink","IGCoreImage","IGRouter","PolarisAsyncEntityQRModal","PolarisDesktopStoriesV2ReelStandaloneViewer","PolarisDesktopStoriesV2ReelsGallery","PolarisFullscreenButton","PolarisFullscreenShell","PolarisGenericStrings","PolarisIGCoreSVGIconButton","PolarisIGCoreSpinner","PolarisIGCoreXPanoFilledIcon","PolarisPageIdentifierConstants","PolarisPageMetadata","PolarisRoutes","PolarisStoriesPageBugNub","PolarisStoriesProvider","PolarisStoryActions","PolarisStoryVideoContext","PolarishasBugNub","PolarisstorySelectors","gkx","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");b=d("react");var l=b.useCallback,m=b.useEffect,n=b.useState,o=i._("Stories");function a(a){var b,e=a.highlightReelId,f=a.initializing,g=a.needsTapToStart,h=a.showQRModal,i=a.viewerIsLoggedIn;babelHelpers.objectWithoutPropertiesLoose(a,["highlightReelId","initializing","needsTapToStart","showQRModal","viewerIsLoggedIn"]);a=n(h);h=a[0];var p=a[1],q=d("IGRouter").useIGHistory();a=d("react-redux-wwwig").useSelector(function(a){return a.stories.isLoading});a=a===!0||f===!0;f=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentTrayOrder});f=a!==!0&&f.length>1;var r=a!==!0&&f!==!0,s=d("react-redux-wwwig").useDispatch(),t=l(function(a){a===void 0&&(a="tap_exit");return s(d("PolarisStoryActions").closeReels(a))},[s]),u=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReel),v=a===!1&&(u===null||(u==null?void 0:(b=u.itemIds)==null?void 0:b.length)===0);m(function(){v&&q.push("/")},[q,v]);return v?null:k.jsxs(c("PolarisFullscreenShell"),{className:"_ac0e",children:[k.jsx(c("PolarisPageMetadata"),{id:c("PolarisPageIdentifierConstants").StoriesPage,title:o}),a!==!0?k.jsxs(k.Fragment,{children:[k.jsx(d("PolarisStoriesProvider").StoriesContextProvider,{initialState:{needsTapToStart:g,viewerIsLoggedIn:i},children:k.jsxs(d("PolarisStoryVideoContext").StoryVideoContextProvider,{children:[f?k.jsx(c("PolarisDesktopStoriesV2ReelsGallery"),{}):null,r?k.jsx(c("PolarisDesktopStoriesV2ReelStandaloneViewer"),{}):null]})}),h&&k.jsx(c("PolarisAsyncEntityQRModal"),{entityID:(b=e==null?void 0:e.toString())!=null?b:u==null?void 0:(a=u.itemIds)==null?void 0:a[0],onClose:function(){return p(!1)},source:"DIRECT_NAVIGATION"})]}):k.jsx(c("PolarisIGCoreSpinner"),{color:"light",position:"absolute",size:"medium"}),k.jsx("div",{className:"_ac0f",children:k.jsx(c("FastLink"),{href:d("PolarisRoutes").FEED_PATH,children:k.jsx(c("IGCoreImage"),{alt:d("PolarisGenericStrings").INSTAGRAM_TEXT,src:{light:j("163077")}})})}),k.jsx("div",{className:"_ac0g",children:k.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){return t("tap_exit")},children:k.jsx(c("PolarisIGCoreXPanoFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"web-always-white"})})}),c("gkx")("2299")&&k.jsx("div",{className:"_aept",children:k.jsx(c("PolarisFullscreenButton"),{})}),d("PolarishasBugNub").hasBugNub()&&k.jsx(c("PolarisStoriesPageBugNub"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=c("PolarisPageIdentifierConstants").StoriesPage;g.PAGE_TITLE=o;g.DesktopStoriesPage=a}),98);
__d("PolarisStoriesMediaRoot.react",["PolarisLinkBuilder","PolarisStoryActions","PolarisisUserLoggedIn","PolarisstorySelectors","XIGStoriesComponent","nullthrows","promiseDone","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){a=a.props;var b=a.routeProps,e=b.show_qr_modal,f=b.user;b=a.routeParams;var g=b.initial_media_id;a=b.username;var k=d("react-redux-wwwig").useDispatch();b=j(!1);var l=b[0],m=b[1];b=d("PolarisisUserLoggedIn").isUserLoggedIn();if(!b&&a!=null){var n=d("PolarisLinkBuilder").buildUserStoryLink(a);k(d("PolarisStoryActions").initStoryAuth(n))}n=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReel(a,c("nullthrows")(f.id))});var o=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentStoryPosition),p=!n||n.itemIds==null||o==null;i(function(){!l&&p&&c("promiseDone")(k(d("PolarisStoryActions").initStoryPage({owner:f,initialMediaId:g})).then(function(){m(!0)}))},[p,k,g,l,f]);return h.jsx(c("XIGStoriesComponent"),{viewerIsLoggedIn:b,showQRModal:e,initializing:p&&l===!1,username:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);